{"version":3,"sources":["components/categories/Categories.js","components/editmodal/EditModal.js","components/jobs/AddJob.js","components/jobs/Job.js","components/jobs/Jobs.js","App.js","serviceWorker.js","index.js"],"names":["categories","name","icon","useCategories","getCategoryIcon","category","size","color","cat","find","entry","Provider","value","style","fontSize","intervalUnits","title","milliseconds","hourInMilliseconds","dayInMilliseconds","weekInMilliseconds","EditModal","firestore","closeEditModal","job","users","React","useState","setName","interval","setInterval","intervalUnit","setIntervalUnit","points","setPoints","setCategory","assignee","setAssignee","id","className","onClick","event","target","onSubmit","preventDefault","collection","doc","update","add","completedAt","Date","htmlFor","type","placeholder","onChange","currentTarget","map","key","unit","user","email","disabled","delete","AddJob","openCreateModal","Timeleft","completedAtMilliseconds","seconds","nowMilliseconds","getTime","secondDiff","isLate","classes","push","hour","join","getClassName","diff","Math","abs","floor","minute","day","week","getUnitAndTimeLeft","AssigneeBubble","url","src","alt","Job","selectedJob","setSelectedJob","openEditModal","console","log","imageUrl","Jobs","jobs","setJobs","setUsers","editModalOpen","setEditModalOpen","useEffect","onSnapshot","snapshot","jobItems","docs","data","userItems","handleOpenEditModal","undefined","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","SignIn","items","provider","GoogleAuthProvider","signInWithPopup","then","authUser","u","displayName","photoURL","SignOut","signOut","UserInfo","logoutVisible","setLogoutVisible","App","useAuthState","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.2242765c.chunk.js","sourcesContent":["import React from 'react';\r\nimport {IconContext} from 'react-icons';\r\nimport {FaUtensils, FaBed, FaShoppingCart, FaToilet, FaHiking, FaCouch, FaHome} from 'react-icons/fa';\r\n\r\nconst categories = [\r\n  {\r\n    name: 'Bedroom',\r\n    icon: <FaBed />,\r\n  },\r\n  {\r\n    name: 'Kitchen',\r\n    icon: <FaUtensils />,\r\n  },\r\n  {\r\n    name: 'Living room',\r\n    icon: <FaCouch />,\r\n  },\r\n  {\r\n    name: 'House',\r\n    icon: <FaHome />,\r\n  },\r\n  {\r\n    name: 'Shopping',\r\n    icon: <FaShoppingCart />,\r\n  },\r\n  {\r\n    name: 'Toilet',\r\n    icon: <FaToilet />,\r\n  },\r\n  {\r\n    name: 'Outside',\r\n    icon: <FaHiking />,\r\n  }\r\n]\r\n\r\nexport function useCategories() {\r\n  const getCategoryIcon = (category, size = 24, color = 'black') => {\r\n    const cat = categories.find(entry => entry.name === category);\r\n    if (!cat) return <>404</>;\r\n    return <IconContext.Provider value={{ style: {fontSize: size + 'px', color }}}>\r\n      <div>\r\n        {cat.icon}\r\n      </div>\r\n    </IconContext.Provider>\r\n  }\r\n\r\n\r\n  return { categories, getCategoryIcon };\r\n};","import React from 'react';\r\nimport { useCategories } from '../categories/Categories';\r\nimport './editmodal.scss';\r\n\r\nconst hourInMilliseconds = 3600000;\r\nconst dayInMilliseconds = hourInMilliseconds * 24;\r\nconst weekInMilliseconds = dayInMilliseconds * 7;\r\nconst monthInMilliseconds = weekInMilliseconds * 4;\r\n\r\nconst intervalUnits = [\r\n  { title: 'Hours', milliseconds: hourInMilliseconds },\r\n  { title: 'Days', milliseconds: dayInMilliseconds },\r\n  { title: 'Weeks', milliseconds: weekInMilliseconds },\r\n  { title: 'Months', milliseconds: monthInMilliseconds },\r\n]\r\n\r\nexport default function EditModal({ firestore, closeEditModal, job, users }) {\r\n  const { categories } = useCategories();\r\n  const [name, setName] = React.useState(job ? job.name : '');\r\n  const [interval, setInterval] = React.useState(job ? job.interval : 1);\r\n  const [intervalUnit, setIntervalUnit] = React.useState(job ? job.intervalUnit : intervalUnits[0]);\r\n  const [points, setPoints] = React.useState(job ? job.points : 1);\r\n  const [category, setCategory] = React.useState(job ? job.category : categories[0].name);\r\n  const [assignee, setAssignee] = React.useState(job ? job.assignee : 'nobody');\r\n\r\n  const handleNameChange = event => setName(event.currentTarget.value);\r\n  const handleIntervalChange = event => setInterval(event.currentTarget.value);\r\n  const handlePointsChange = event => setPoints(event.currentTarget.value);\r\n  const handleCategoryChange = event => setCategory(event.currentTarget.value);\r\n  const handleAssigneeChange = event => setAssignee(event.currentTarget.value);\r\n\r\n  const handleCloseClick = event => {\r\n    if (event.target.id === 'modalBackground') {\r\n      closeEditModal();\r\n    }\r\n  }\r\n\r\n  const handleAddJob = (event) => {\r\n    event.preventDefault();\r\n    if (!name || !interval || !points) return;\r\n    firestore.collection('jobs').add({\r\n        name,\r\n        interval,\r\n        intervalUnit,\r\n        points,\r\n        category,\r\n        completedAt: new Date(),\r\n        assignee,\r\n    });\r\n    closeEditModal();\r\n  };\r\n\r\n  const handleEditJob = (event) => {\r\n    event.preventDefault();\r\n    if (!job || !name || !interval || !points) return;;\r\n    const item = firestore.collection('jobs').doc(job.id);\r\n    item.update({\r\n      name,\r\n      interval,\r\n      intervalUnit,\r\n      points,\r\n      category,\r\n      assignee,\r\n    });\r\n    closeEditModal();\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    if (!job) return;\r\n    const item = firestore.collection('jobs').doc(job.id);\r\n    item.delete();\r\n    closeEditModal();\r\n  };\r\n\r\n  return <div id=\"modalBackground\" className=\"modalBackground\" onClick={handleCloseClick} onSubmit={job ? handleEditJob : handleAddJob}>\r\n    <div className=\"modal\">\r\n      <form>\r\n        <label htmlFor=\"name\">\r\n          {job ? 'Edit job' : 'Create a job'}\r\n        </label>\r\n        <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"Name\" value={name} onChange={handleNameChange}/>\r\n\r\n        <label htmlFor=\"category\">Category</label>\r\n        <select name=\"category\" id=\"category\" value={category} onChange={handleCategoryChange}>\r\n          {categories.map(cat => {\r\n            return <option key={cat.name} value={cat.name}>{cat.name}</option>\r\n          })}\r\n        </select>\r\n\r\n        <label htmlFor=\"interval\">Repeat every</label>\r\n        <input type=\"number\" name=\"interval\" id=\"interval\" value={interval} onChange={handleIntervalChange} />\r\n        <div className=\"durationButtons\">\r\n          {intervalUnits.map(unit => {\r\n            return <button\r\n              className={unit.title === intervalUnit.title ? 'selected' : ''}\r\n              key={unit.title}\r\n              type=\"button\"\r\n              onClick={() => setIntervalUnit(unit)}>{unit.title}\r\n            </button>;\r\n          })}\r\n        </div>\r\n\r\n        <label htmlFor=\"points\">Points</label>\r\n        <input type=\"number\" name=\"points\" id=\"points\" value={points} onChange={handlePointsChange} />\r\n\r\n        <label htmlFor=\"assignee\">Assignee</label>\r\n        <select name=\"assignee\" id=\"assignee\" value={assignee} onChange={handleAssigneeChange}>\r\n          <option value=\"nobody\">Anyone</option>\r\n          {users.map(user => {\r\n            return <option key={user.email} value={user.email}>{user.name}</option>;\r\n          })}\r\n        </select>\r\n\r\n        {!job && <button type=\"submit\" disabled={!name}>Create</button>}\r\n        {job && <div className=\"dualButtons\">\r\n          <button type=\"subbmit\">Save</button>\r\n          <button type=\"button\" onClick={handleDelete}>Delete</button>\r\n        </div>} \r\n      </form>\r\n      \r\n    </div>\r\n  </div>;\r\n}\r\n","import React from 'react';\r\nimport { IconContext } from 'react-icons';\r\nimport { FaPlus } from 'react-icons/fa';\r\n\r\nexport default function AddJob({ openCreateModal }) {\r\n  return <div className=\"addJob jobCube\" onClick={openCreateModal}>\r\n      <IconContext.Provider value={{ style: {fontSize: '100px', color: \"rgb(0, 123, 255)\"}}}>\r\n        <div>\r\n          <FaPlus />\r\n        </div>\r\n      </IconContext.Provider>\r\n      Add a new job\r\n  </div>;\r\n};","import React from 'react';\r\nimport { useCategories } from '../categories/Categories';\r\n\r\nfunction Timeleft({ job }) {\r\n  const completedAtMilliseconds = job.completedAt.seconds * 1000;\r\n  const nowMilliseconds = new Date().getTime();\r\n  const secondDiff = (completedAtMilliseconds + (job.intervalUnit.milliseconds * job.interval) - nowMilliseconds) / 1000;\r\n  const isLate = secondDiff <= 0;\r\n  \r\n  const minute = 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n  const week = day * 7;\r\n  const month = week * 4;\r\n\r\n  const getUnitAndTimeLeft = () => {\r\n    const diff = Math.abs(secondDiff)\r\n    if (diff < minute) {\r\n      return Math.floor(diff) + ' seconds';\r\n    } else if (diff < hour) {\r\n      return Math.floor(diff / minute) + ' minutes';\r\n    } else if (diff < day) {\r\n      return Math.floor(diff / hour) + ' hours';\r\n    } else if (diff < week) {\r\n      return Math.floor(secondDiff / day) + ' days';\r\n    } else if (diff < month) {\r\n      return Math.floor(diff / week) + ' weeks';\r\n    } else {\r\n      return Math.floor(diff / month) + ' months';\r\n    }\r\n  }\r\n\r\n  const getClassName = () => {\r\n    const classes = ['timeleft'];\r\n    if (isLate) classes.push('late');\r\n    if (secondDiff < day) classes.push('soon');\r\n    else classes.push('early');\r\n    return classes.join(' ');\r\n  }\r\n\r\n  return <div className={getClassName()}>\r\n    {!isLate && 'in '}\r\n    {getUnitAndTimeLeft()}\r\n    {isLate && ' late'}\r\n  </div>;\r\n}\r\n\r\nfunction AssigneeBubble({ url }) {\r\n  return <img className=\"assigneeBubble\" src={url} alt={url} />\r\n}\r\n\r\nexport default function Job({ job, firestore, selectedJob, setSelectedJob, openEditModal, assignee }) {\r\n  const { getCategoryIcon } = useCategories();\r\n\r\n  console.log(assignee);\r\n\r\n  const handleClick = () => {\r\n    setSelectedJob(job);\r\n  }\r\n\r\n  const markAsDone = () => {\r\n    const item = firestore.collection('jobs').doc(job.id);\r\n    item.update({\r\n      completedAt: new Date(),\r\n    });\r\n  }\r\n\r\n  return <div className=\"jobCube\" onClick={handleClick}>\r\n      {job === selectedJob\r\n        ? <>\r\n            <button className=\"jobBtn\" onClick={markAsDone}>Mark done</button>\r\n            <button className=\"jobBtn\" onClick={openEditModal}>Edit</button>\r\n          </>\r\n        : <>\r\n          {assignee && <AssigneeBubble url={assignee.imageUrl} />}\r\n          <Timeleft job={job} />\r\n          {getCategoryIcon(job.category, 70)}\r\n          {job.name}\r\n        </>\r\n      }\r\n  </div>\r\n};","import React from 'react';\r\nimport EditModal from '../editmodal/EditModal';\r\nimport AddJob from './AddJob';\r\nimport Job from './Job';\r\nimport './jobs.scss';\r\n\r\nfunction Jobs({ firestore, user }) {\r\n\tconst [jobs, setJobs] = React.useState([]);\r\n\tconst [users, setUsers] = React.useState([]);\r\n\tconst [selectedJob, setSelectedJob] = React.useState();\r\n\tconst [editModalOpen, setEditModalOpen] = React.useState(false);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfirestore.collection('jobs').onSnapshot(snapshot => {\r\n\t\t\tconst jobItems = snapshot.docs.map(doc => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetJobs(jobItems);\r\n\t\t});\r\n\t}, [firestore]);\r\n\r\n\tReact.useEffect(() => {\r\n\t\tfirestore.collection('users').onSnapshot(snapshot => {\r\n\t\t\tconst userItems = snapshot.docs.map(doc => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: doc.id,\r\n\t\t\t\t\t...doc.data(),\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tsetUsers(userItems);\r\n\t\t});\r\n\t}, [firestore]);\r\n\r\n\tconst handleOpenEditModal = () => {\r\n\t\tsetEditModalOpen(true);\r\n\t}\r\n\r\n\tconst handleOpenCreateModal = () => {\r\n\t\tsetSelectedJob(undefined);\r\n\t\tsetEditModalOpen(true);\r\n\t}\r\n\r\n\tconst handleModalClose = () => {\r\n\t\tsetSelectedJob(undefined);\r\n\t\tsetEditModalOpen(false);\r\n\t}\r\n\r\n\treturn <div className=\"jobsContainer\">\r\n\t\t\t<AddJob firestore={firestore} user={user} openCreateModal={handleOpenCreateModal} />\r\n\t\t\t{jobs && jobs.map(job => {\r\n\t\t\t\t\treturn <Job\r\n\t\t\t\t\t\tkey={job.id}\r\n\t\t\t\t\t\tjob={job}\r\n\t\t\t\t\t\tfirestore={firestore}\r\n\t\t\t\t\t\tselectedJob={selectedJob}\r\n\t\t\t\t\t\tsetSelectedJob={setSelectedJob}\r\n\t\t\t\t\t\topenEditModal={handleOpenEditModal}\r\n\t\t\t\t\t\tassignee={users.find(user => user.email === job.assignee)} />\r\n\t\t\t})}\r\n\t\t\t{editModalOpen && <EditModal\r\n\t\t\t\tcloseEditModal={handleModalClose}\r\n\t\t\t\tfirestore={firestore}\r\n\t\t\t\tjob={selectedJob}\r\n\t\t\t\tusers={users} />\r\n\t\t\t}\r\n\t</div>;\r\n}\r\n\r\nexport default Jobs;\r\n","import React from 'react';\nimport './App.scss';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport Jobs from './components/jobs/Jobs';\nimport { IconContext } from 'react-icons';\nimport { FaSignInAlt } from 'react-icons/fa';\n\nfirebase.initializeApp({\n  apiKey: 'AIzaSyDuLhFU-X9QUqlx0Cw1sn92eAtB7pSOSk0',\n  authDomain: 'housework-a9d38.firebaseapp.com',\n  databaseURL: 'https://housework-a9d38.firebaseio.com',\n  projectId: 'housework-a9d38',\n  storageBucket: 'housework-a9d38.appspot.com',\n  messagingSenderId: '475852222396',\n  appId: '1:475852222396:web:9fa6485a42ba1284e985b9',\n  measurementId: 'G-ZVBWH6CY7R'\n})\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nfunction SignIn() {\n  const [users, setUsers] = React.useState([]);\n  React.useEffect(() => {\n\t\tfirestore.collection('users').onSnapshot(snapshot => {\n\t\t\tconst items = snapshot.docs.map(doc => {\n\t\t\t\treturn {\n\t\t\t\t\tid: doc.id,\n\t\t\t\t\t...doc.data(),\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetUsers(items);\n\t\t});\n\t}, []);\n\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider).then(authUser => {\n      const user = authUser.user;\n      if (users.find(u => u.email === user.email)) return;\n      firestore.collection('users').add({\n        name: user.displayName,\n        email: user.email,\n        imageUrl: user.photoURL,\n      });\n    });\n  }\n  return <button className=\"loginButton\" onClick={signInWithGoogle}>\n    <IconContext.Provider value={{ style: {fontSize: '150px', color: \"#ff7f34\"}}}>\n      <div>\n        <FaSignInAlt />\n      </div>\n    </IconContext.Provider>\n    Log in\n  </button>;\n}\n\nfunction SignOut() {\n  const signOutFromGoogle = () => auth.signOut();\n  return <button className=\"signOutButton\" onClick={signOutFromGoogle}>\n    <IconContext.Provider value={{ style: {fontSize: '50px', color: \"#ff7f34\"}}}>\n      <div>\n        <FaSignInAlt />\n      </div>\n    </IconContext.Provider>\n    Log out\n  </button>;\n}\n\nfunction UserInfo({ user }) {\n  const [logoutVisible, setLogoutVisible] = React.useState(false);\n\n  if (!user) return null;\n  return <>\n    <img\n      className=\"userImage\"\n      src={user.photoURL}\n      alt={user.displayName}\n      onClick={() => setLogoutVisible(!logoutVisible)} />\n    Welcome {user.displayName}\n    {logoutVisible && <SignOut />}\n  </>;\n}\n\nfunction App() {\n  const [user] = useAuthState(auth);\n\n  return (\n    <div className='App'>\n      <div className=\"header\">\n        <UserInfo user={user} />\n      </div>\n      {user && <Jobs firestore={firestore} user={user} />}\n      {!user && <SignIn />}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}